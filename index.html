<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>I LOVE U MELLO</title>
<style>
  :root{
    --bg1:#fff6f8; --bg2:#ffe0ed;
    --accent:#ff2f86;
  }
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; background:linear-gradient(180deg,var(--bg1),var(--bg2));}
  .page{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;box-sizing:border-box;}
  /* header text */
  .title{
    position:fixed;top:28px;left:50%;transform:translateX(-50%);
    font-weight:800;font-size:clamp(22px,5vw,44px);
    background:linear-gradient(90deg,#ff9dcf,#ff4da6);-webkit-background-clip:text;background-clip:text;color:transparent;
    text-transform:uppercase;letter-spacing:1px;z-index:30;pointer-events:none;
    text-shadow:0 6px 20px rgba(255,60,130,0.12);
  }

  /* stage card */
  .stage{
    width:min(980px,96vw);
    height:min(78vh,820px);
    background:rgba(255,255,255,0.95);
    border-radius:20px;
    box-shadow: 0 22px 70px rgba(0,0,0,0.12);
    position:relative;overflow:hidden;padding:22px;display:flex;align-items:center;justify-content:center;
  }

  /* image container */
  .img-wrap{position:relative;z-index:2;max-width:900px;width:90%;height:auto;display:flex;align-items:center;justify-content:center}
  .img-wrap img{display:block;width:100%;height:auto;border-radius:12px;box-shadow:0 18px 40px rgba(0,0,0,0.08);}

  /* subtle spotlight under characters */
  .spot{position:absolute;left:50%;bottom:8%;transform:translateX(-50%);width:700px;height:220px;border-radius:50%;background:radial-gradient(circle at 50% 30%, rgba(255,235,245,0.95), rgba(255,200,230,0.6) 45%, transparent 70%);filter:blur(28px);z-index:1}

  /* floating hearts in background */
  .hearts{position:absolute;inset:0;pointer-events:none;z-index:1;overflow:hidden}
  .hearts i{position:absolute;font-style:normal;opacity:.9;font-size:18px;animation:heartUp linear infinite}
  @keyframes heartUp{0%{transform:translateY(110vh) scale(.6) rotate(-8deg);opacity:0}8%{opacity:1}100%{transform:translateY(-40vh) scale(1.05) rotate(12deg);opacity:0}}

  /* notes that spawn (absolute on body) */
  .note{position:fixed;z-index:40;pointer-events:none;font-size:28px;filter:drop-shadow(0 10px 16px rgba(0,0,0,0.12));will-change:transform,opacity,left,top}

  /* microphone (visual) in front of join */
  .mic-visual{position:absolute;left:50%;bottom:46%;transform:translateX(-50%);z-index:25;pointer-events:none;display:flex;align-items:center;justify-content:center}
  .mic-visual .head{width:44px;height:44px;border-radius:999px;background:linear-gradient(180deg,#333,#111);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:18px}
  .mic-visual .stick{width:8px;height:94px;background:linear-gradient(#222,#444);border-radius:6px;position:absolute;bottom:0}

  /* responsive */
  @media(max-width:720px){
    .title{font-size:20px}
    .note{font-size:22px}
    .mic-visual .head{width:36px;height:36px;font-size:14px}
  }
</style>
</head>
<body>
  <div class="page">
    <div class="title">💖 I LOVE U MELLO 💖</div>

    <div class="stage" role="main" aria-label="I LOVE U MELLO — duet cute">
      <div class="hearts" aria-hidden="true"></div>
      <div class="spot" aria-hidden="true"></div>

      <div class="img-wrap" id="imgWrap">
        <!-- IMPORTANT: place the image file 'couple.png' in same folder -->
        <img id="coupleImg" src="couple.png" alt="Couple singing while holding hands">
      </div>

      <div class="mic-visual" aria-hidden="true">
        <div class="head">♪</div>
        <div class="stick"></div>
      </div>
    </div>
  </div>

<script>
/*
  Notes animation script.
  - Make sure 'couple.png' is in same folder as this HTML.
  - Jika not keluar sedikit meleset, ubah leftMouthPercent / rightMouthPercent (0..1).
*/

// default mouth positions (percent of image width/height). Sesuaikan bila perlu.
// nilai ini dibuat untuk gambar yang mirip gambar yang kamu attach.
const leftMouthPercent  = { x: 0.37, y: 0.48 };
const rightMouthPercent = { x: 0.63, y: 0.48 };

// reduced motion support
const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
if(prefersReduced){
  // no animation if user opts for reduced motion
  document.querySelectorAll('.hearts i').forEach(i=>i.style.animation='none');
}

// spawn a musical note at page coordinates (px,py)
function spawnNoteAt(px, py){
  if(prefersReduced) return;
  const n = document.createElement('div');
  n.className = 'note';
  n.innerText = Math.random() > 0.5 ? '🎵' : '🎶';
  n.style.left = px + 'px';
  n.style.top  = py + 'px';
  n.style.opacity = '1';
  document.body.appendChild(n);

  const duration = 2600 + Math.random()*1200;
  const start = performance.now();
  const startX = px;
  const drift = (Math.random()*80 - 40);

  function frame(now){
    const t = (now - start) / duration;
    if(t >= 1){ n.remove(); return; }
    const currentY = py - (t * 240); // rise
    const currentX = startX + Math.sin(t * Math.PI * 2) * 14 + drift * t * 0.25;
    const scale = 1 + t * 0.35;
    n.style.left = currentX + 'px';
    n.style.top  = currentY + 'px';
    n.style.transform = `scale(${scale}) rotate(${t*30}deg)`;
    n.style.opacity = String(1 - t*1.05);
    requestAnimationFrame(frame);
  }
  requestAnimationFrame(frame);
}

// compute image-mouth coordinates in page coordinates
function mouthPageCoords(){
  const img = document.getElementById('coupleImg');
  const rect = img.getBoundingClientRect();
  const leftX  = rect.left + rect.width  * leftMouthPercent.x;
  const leftY  = rect.top  + rect.height * leftMouthPercent.y;
  const rightX = rect.left + rect.width  * rightMouthPercent.x;
  const rightY = rect.top  + rect.height * rightMouthPercent.y;
  return { leftX, leftY, rightX, rightY };
}

// alternating duet spawn
let turn = 0;
function duetTick(){
  const c = mouthPageCoords();
  if(turn % 2 === 0){
    spawnNoteAt(c.leftX, c.leftY);
    setTimeout(()=> spawnNoteAt(c.rightX, c.rightY), 300);
  } else {
    spawnNoteAt(c.rightX, c.rightY);
    setTimeout(()=> spawnNoteAt(c.leftX, c.leftY), 300);
  }
  turn++;
}

// start when image loaded (or immediately if cached)
const img = document.getElementById('coupleImg');
function startNotes(){
  if(prefersReduced) return;
  // initial burst
  duetTick();
  window._noteInterval = setInterval(duetTick, 900);
}
// try to start after load/layout stable
if(img.complete){
  setTimeout(startNotes, 300);
} else {
  img.addEventListener('load', ()=> setTimeout(startNotes, 300));
  img.addEventListener('error', ()=> console.warn('Gagal memuat couple.png — periksa nama/file path.'));
}

// create floating hearts
(function spawnHearts(){
  const HN = 22;
  const hearts = document.querySelector('.hearts');
  for(let i=0;i<HN;i++){
    const e = document.createElement('i');
    e.innerText = '❤';
    e.style.left = (Math.random()*100) + 'vw';
    e.style.fontSize = (12 + Math.random()*28) + 'px';
    e.style.animationDuration = (7 + Math.random()*8) + 's';
    e.style.bottom = (-60 - Math.random()*40) + 'vh';
    hearts.appendChild(e);
  }
})();
</script>
</body>
</html>
